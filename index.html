<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PizzaCraft ‚Äì ”®–∑ –ü–∏—Ü—Ü–∞“£–¥—ã “ö“±—Ä–∞—Å—Ç—ã—Ä!</title>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #007BFF 0%, #0056b3 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 30px 10px;
    }

    #root {
      width: 100%;
      max-width: 900px;
    }

    h1, h2 {
      color: #fff;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    section {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      padding: 20px;
      margin-top: 20px;
      border: 1px solid rgba(255,255,255,0.2);
      color: #fff;
    }

    select, input[type="text"], input[type="number"] {
      padding: 10px;
      border-radius: 10px;
      border: none;
      width: 100%;
      background: rgba(255,255,255,0.2);
      color: white;
      margin-top: 5px;
    }

    button {
      background: rgba(0, 123, 255, 0.8);
      border: none;
      padding: 12px;
      width: 100%;
      border-radius: 15px;
      color: white;
      font-size: 16px;
      margin-top: 10px;
    }

    button:hover {
      background: rgba(0, 123, 255, 1);
    }

    .console-box {
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 15px;
      font-family: monospace;
      color: #00ff95;
      max-height: 250px;
      overflow-y: auto;
      white-space: pre-line;
      border: 1px solid rgba(255,255,255,0.2);
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    function PizzaCraft() {
      const { useState } = React;

      const [size, setSize] = useState("medium");
      const [crust, setCrust] = useState("thin");

      const ingredientsList = [
        { id: 1, name: "–Ü—Ä—ñ–º—à—ñ–∫", price: 400 },
        { id: 2, name: "–ü–µ–ø–ø–µ—Ä–æ–Ω–∏", price: 500 },
        { id: 3, name: "–ó”ô–π—Ç“Ø–Ω", price: 300 },
        { id: 4, name: "–°–∞“£—ã—Ä–∞—É“õ“±–ª–∞“õ", price: 350 },
        { id: 5, name: "–ê–Ω–∞–Ω–∞—Å", price: 450 }
      ];

      const [selectedIngredients, setSelectedIngredients] = useState([]);
      const [customer, setCustomer] = useState({ name:"", address:"", phone:"", payment:"cash" });
      const [logs, setLogs] = useState([]);

      const basePrices = { small: 1200, medium: 1800, large: 2400 };
      const totalPrice = basePrices[size] + selectedIngredients.reduce((s,i)=>s+i.price,0);

      const handleIngredientChange = (ingredient) => {
        setSelectedIngredients(prev => {
          const exists = prev.some(i => i.id === ingredient.id);
          return exists ? prev.filter(i => i.id !== ingredient.id) : [...prev, ingredient];
        });
      };

      const handleCustomerChange = (e) => {
        const { name, value } = e.target;
        setCustomer(prev => ({ ...prev, [name]: value }));
      };

      const isDisabled = 
        selectedIngredients.length < 2 ||
        customer.name.trim() === "" ||
        customer.address.trim() === "";

      const handleSubmit = (e) => {
        e.preventDefault();
        const order = {
          size,
          crust,
          ingredients: selectedIngredients.map(i=>i.name),
          customer,
          totalPrice
        };

        setLogs(prev => [
          ...prev,
          "üü¢ –ñ–∞“£–∞ —Ç–∞–ø—Å—ã—Ä—ã—Å:\n" + JSON.stringify(order, null, 2)
        ]);
      };

      return (
        <div>
          <h1>üçï PizzaCraft ‚Äì ”©–∑ –ø–∏—Ü—Ü–∞“£–¥—ã “õ“±—Ä–∞—Å—Ç—ã—Ä!</h1>

          <section>
            <h2>1. –ü–∏—Ü—Ü–∞ –Ω–µ–≥—ñ–∑—ñ</h2>

            <strong>”®–ª—à–µ–º:</strong><br/>
            {["small","medium","large"].map(val => (
              <label key={val}>
                <input 
                  type="radio"
                  value={val}
                  checked={size === val}
                  onChange={(e)=>setSize(e.target.value)}
                />
                {val==="small"?"–®–∞“ì—ã–Ω":val==="medium"?"–û—Ä—Ç–∞—à–∞":"“Æ–ª–∫–µ–Ω"}
              </label>
            ))}

            <br/><br/>

            <strong>“ö–∞–º—ã—Ä —Ç“Ø—Ä—ñ:</strong><br/>
            <select value={crust} onChange={(e)=>setCrust(e.target.value)}>
              <option value="thin">–ñ“±“õ–∞</option>
              <option value="thick">“ö–∞–ª—ã“£</option>
            </select>
          </section>

          <section>
            <h2>2. –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—Ç–µ—Ä</h2>
            {ingredientsList.map(ing => (
              <label key={ing.id} style={{ display:"block" }}>
                <input
                  type="checkbox"
                  checked={selectedIngredients.some(i=>i.id===ing.id)}
                  onChange={()=>handleIngredientChange(ing)}
                />
                {ing.name} ‚Äî {ing.price} ‚Ç∏
              </label>
            ))}
          </section>

          <section>
            <h2>3. –°—ñ–∑–¥—ñ“£ –ø–∏—Ü—Ü–∞“£—ã–∑</h2>

            <p><b>”®–ª—à–µ–º:</b> {size}</p>
            <p><b>“ö–∞–º—ã—Ä:</b> {crust}</p>
            <p>
              <b>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—Ç–µ—Ä:</b> 
              {selectedIngredients.length > 0 
                ? selectedIngredients.map(i=>i.name).join(", ")
                : " –¢–∞“£–¥–∞–ª–º–∞“ì–∞–Ω"}
            </p>

            <h3>üí∞ –ñ–∞–ª–ø—ã –±–∞“ì–∞: {totalPrice} ‚Ç∏</h3>
          </section>

          <section>
            <h2>4. –ö–ª–∏–µ–Ω—Ç —Ñ–æ—Ä–º–∞—Å—ã</h2>
            <form onSubmit={handleSubmit}>
              <label>–ê—Ç—ã-–∂”©–Ω—ñ:</label>
              <input type="text" name="name" value={customer.name} onChange={handleCustomerChange} />

              <label>–ú–µ–∫–µ–Ω-–∂–∞–π:</label>
              <input type="text" name="address" value={customer.address} onChange={handleCustomerChange} />

              <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
              <input type="number" name="phone" value={customer.phone} onChange={handleCustomerChange} />

              <br/><br/>
              <label>
                <input type="radio" name="payment" value="cash" 
                  checked={customer.payment==="cash"}
                  onChange={handleCustomerChange}
                />
                “ö–æ–ª–º–∞-“õ–æ–ª
              </label><br/>

              <label>
                <input type="radio" name="payment" value="card"
                  checked={customer.payment==="card"}
                  onChange={handleCustomerChange}
                />
                –ö–∞—Ä—Ç–∞–º–µ–Ω
              </label>

              <button disabled={isDisabled}>–¢–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—É</button>
            </form>
          </section>

          <section>
            <h2>5. –ö–æ–Ω—Å–æ–ª—å</h2>
            <div className="console-box">
              {logs.length === 0 
                ? "–ö–æ–Ω—Å–æ–ª—å –±–æ—Å..." 
                : logs.join("\n\n----------------------------------\n\n")}
            </div>
          </section>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<PizzaCraft/>);
  </script>
</body>
</html>

